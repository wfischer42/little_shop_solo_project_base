<h1>Items</h1>

<div id="stats">
  <div id="popular-items">
    <div class="card float-left m-3" style="width: 25rem;">
    <div class="card-body">
    <h5 class="card-title">Most Popular Items:</h5>
    <% if @popular_items %>
    <ul>
    <% @popular_items.each do |item| %>
      <li><%= item.name %>, ordered <%= item.total_ordered %> times</li>
    <% end %>
    </ul>
    <% else %>
    <p>(none yet)</p>
    <% end %>
    </div>
  </div>

  <div id="popular-merchants">
    <div class="card float-left m-3" style="width: 25rem;">
    <div class="card-body">
    <h5 class="card-title">Most Popular Merchants:</h5>
    <% if @popular_merchants %>
    <ul>
    <% @popular_merchants.each do |merchant| %>
      <li><%= merchant.name %>, ordered from <%= merchant.total_orders %> times</li>
    <% end %>
    </ul>
    <% else %>
    <p>(none yet)</p>
    <% end %>
  </div>
  </div>

<br style="clear: both;">

  <div id="fastest-merchants">
    <div class="card float-left m-3" style="width: 25rem;">
    <div class="card-body">
    <h5 class="card-title">Fastest Merchants to Fulfill Ordered Items:</h5>
    <% if @fastest_merchants %>
    <ol>
    <% @fastest_merchants.each do |merchant| %>
      <li><%= merchant.name %></li>
    <% end %>
    </ol>
    <% else %>
    <p>(none yet)</p>
    <% end %>
  </div>
  </div>

  <div id="slowest-merchants">
    <div class="card float-left m-3" style="width: 25rem;">
    <div class="card-body">
    <h5 class="card-title">Slowest Merchants to Fulfill Ordered Items:</h5>
    <% if @slowest_merchants %>
    <ol>
    <% @slowest_merchants.each do |merchant| %>
      <li><%= merchant.name %></li>
    <% end %>
    </ol>
    <% else %>
    <p>(none yet)</p>
    <% end %>
  </div>
  </div>
</div>

<br style="clear: both;">

<% if current_user && current_user.merchant? %>
<%= link_to 'Add New Item', new_merchant_item_path(current_user) %>
<% end %>

<hr>

<% @items.each do |item| %>
  <%= render 'item.html.erb', item: item %>
<% end %>
